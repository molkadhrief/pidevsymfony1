<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="author" content="templatemo">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

    <title>SnapX Photography by TemplateMo</title>

    <!-- Bootstrap core CSS -->
    <link href="{{ asset('vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="{{ asset('assets/css/fontawesome.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/templatemo-snapx-photography.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/owl.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/animate.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/notification/notification.css') }}">
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />

    <!--
    TemplateMo 576 SnapX Photography
    https://templatemo.com/tm-576-snapx-photography
    -->
</head>
<div class="notification" id="notification">
  <div class="message">New Post is added</div>
  <button class="close-btn" onclick="closeNotification()">Close</button>
</div>
  {% block body %}
  
  {% endblock %}
  <link rel="stylesheet" href="{{ asset('assets/js/notification/notification.js') }}">

  <script>
    function openWeb() {
    console.log("Connecting to WebSocket...");
    var Bigconn = new WebSocket('ws://localhost:8080');

    Bigconn.onopen = function (e) {
        console.log("Big Connection established!!!");
    };

    Bigconn.onmessage = function (e) {
      console.log("Received message:", e.data);
      showNotification();
    };

    Bigconn.onclose = function (e) {
        console.log("Connection closed.");
    };
}

window.onload = function(){
    openWeb();
}
function showNotification() {
  var notification = document.getElementById('notification');
  notification.classList.add('show');
  setTimeout(function () {
      notification.classList.remove('show');
  }, 5000); // Adjust the time the notification stays visible (in milliseconds)
}

// Function to close the notification
function closeNotification() {
  var notification = document.getElementById('notification');
  notification.classList.remove('show');
}

  </script>
</html>